function sweet_delete(e,a){swal({title:"Are you sure?",text:"You will not be able to recover this record!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!0},function(t){t&&act_delete(e,a)})}function sweet_confirm(e){swal({title:"Are you sure?",text:"this is about money, please be careful!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, confirm it!",closeOnConfirm:!0},function(a){a&&($("#conf_pembayaran").html("wait a moment..."),act_confirm(e))})}function sweet(e,a,t,n){swal({title:e,text:a,imageUrl:base_url+"assets/images/sweet_alert/"+t,imageSize:"180x180",allowOutsideClick:!0},function(){window.location.href=n})}function readURL(e){if(e.files&&e.files[0]){var a=new FileReader;a.onload=function(e){$("#tampil").attr("src",e.target.result)},a.readAsDataURL(e.files[0])}}function delete_global(e){var a=$(".fa-trash-o").attr("data-table");sweet_delete(e,a)}function act_delete(e,a){var t=base_url+"dashboard/act_delete/"+e+"/"+a;$.ajax({type:"DELETE",dataType:"JSON",url:t,success:function(t){if(0==t.error){if("r_cat_item"==a)$("."+e).hide();else{var n=$("#"+a).DataTable();n.ajax.reload(null,!1)}sweet(t.title,t.pesan,"true.jpg","#")}else sweet(t.title,t.pesan,"false.jpg","#")}})}function act_confirm(e){var a=base_url+"dashboard/act_confirm/"+e;$.ajax({type:"UPDATE",dataType:"JSON",url:a,success:function(e){0==e.error?sweet(e.title,e.pesan,"true.jpg",base_url+"dashboard/confPembayaran"):sweet(e.title,e.pesan,"false.jpg","#")}})}function actPayment(e){$("#modalPayment").modal("show"),$("#nm_catalog").val(e)}function actPaymentSeller(e){$("#modalPayment").modal("show"),$("#id_seller").val(e)}$(document).ready(function(){$("#btn-payment-reseller").click(function(){$.ajax({type:"POST",dataType:"JSON",url:base_url+"dashboard/act_paymentReseller",data:$("#form-payment").serialize(),beforeSend:function(){$("#btn-payment-reseller").button("loading")},success:function(e){0==e.error?($("#modalPayment").modal("hide"),sweet(e.title,e.pesan,"true.jpg",base_url+"dashboard/paymentReseller")):($("#btn-payment-reseller").button("reset"),sweet(e.title,e.pesan,"false.jpg","#"))}})}),$("#btn-payment-refund").click(function(){$.ajax({type:"POST",dataType:"JSON",url:base_url+"dashboard/act_paymentRefund",data:$("#form-payment").serialize(),beforeSend:function(){$("#btn-payment-refund").button("loading")},success:function(e){0==e.error?($("#modalPayment").modal("hide"),sweet(e.title,e.pesan,"true.jpg",base_url+"dashboard/paymentRefund")):($("#btn-payment-refund").button("reset"),sweet(e.title,e.pesan,"false.jpg","#"))}})}),$("#btn-payment-seller").click(function(){$.ajax({type:"POST",dataType:"JSON",url:base_url+"dashboard/act_paymentSeller",data:$("#form-payment").serialize(),beforeSend:function(){$("#btn-payment-seller").button("loading")},success:function(e){0==e.error?($("#modalPayment").modal("hide"),sweet(e.title,e.pesan,"true.jpg",base_url+"dashboard/paymentSeller")):($("#btn-payment-seller").button("reset"),sweet(e.title,e.pesan,"false.jpg","#"))}})}),$("#edit_user_admin").click(function(){$.ajax({type:"POST",dataType:"JSON",url:base_url+"dashboard/act_edit_user",data:$("#form_edit").serialize(),beforeSend:function(){$("#edit_user_admin").button("loading")},success:function(e){0==e.error?sweet(e.title,e.pesan,"true.jpg",base_url+"dashboard/user"):($("#edit_user_admin").button("reset"),sweet(e.title,e.pesan,"false.jpg","#"))}})}),$("#add_about").click(function(){tinyMCE.triggerSave(),$.ajax({type:"POST",dataType:"JSON",url:base_url+"dashboard/act_add_about",data:$("#form_add").serialize(),beforeSend:function(){$("#add_about").button("loading")},success:function(e){0==e.error?sweet(e.title,e.pesan,"true.jpg",base_url+"dashboard/about/"+e.category):($("#add_about").button("reset"),sweet(e.title,e.pesan,"false.jpg","#"))}})}),$("#edit_about").click(function(){tinyMCE.triggerSave(),$.ajax({type:"POST",dataType:"JSON",url:base_url+"dashboard/act_edit_about",data:$("#form_add").serialize(),beforeSend:function(){$("#edit_about").button("loading")},success:function(e){0==e.error?sweet(e.title,e.pesan,"true.jpg",base_url+"dashboard/about/"+e.category):($("#edit_about").button("reset"),sweet(e.title,e.pesan,"false.jpg","#"))}})}),$("#thumbnail").change(function(){readURL(this)}),$("#add_blog").click(function(){new FormData($("form_add")[0]);tinyMCE.triggerSave();var e=new FormData,a=$("#thumbnail")[0].files[0];e.append("thumbnail",a),$.each($("#form_add").serializeArray(),function(a,t){e.append(t.name,t.value)}),$.ajax({type:"POST",dataType:"JSON",url:base_url+"dashboard/act_add_blog",data:e,processData:!1,contentType:!1,beforeSend:function(){$("#add_blog").button("loading")},success:function(e){0==e.error?sweet(e.title,e.pesan,"true.jpg",base_url+"dashboard/blog/"+e.category):($("#add_blog").button("reset"),sweet(e.title,e.pesan,"false.jpg","#"))}})}),$("#edit_blog").click(function(){new FormData($("form_add")[0]);tinyMCE.triggerSave();var e=new FormData,a=$("#thumbnail")[0].files[0];e.append("thumbnail",a),$.each($("#form_add").serializeArray(),function(a,t){e.append(t.name,t.value)}),$.ajax({type:"POST",dataType:"JSON",url:base_url+"dashboard/act_edit_blog",data:e,processData:!1,contentType:!1,beforeSend:function(){$("#edit_blog").button("loading")},success:function(e){0==e.error?sweet(e.title,e.pesan,"true.jpg",base_url+"dashboard/blog/"+e.category):($("#edit_blog").button("reset"),sweet(e.title,e.pesan,"false.jpg","#"))}})}),$("#add_cat").click(function(){$.ajax({type:"POST",dataType:"JSON",url:base_url+"dashboard/act_add_cat",data:$("#form_add").serialize(),beforeSend:function(){$("#add_cat").button("loading")},success:function(e){0==e.error?sweet(e.title,e.pesan,"true.jpg",base_url+"dashboard/cat_item/"+e.category):($("#add_cat").button("reset"),sweet(e.title,e.pesan,"false.jpg","#"))}})}),$("#edit_cat").click(function(){$.ajax({type:"POST",dataType:"JSON",url:base_url+"dashboard/act_edit_cat",data:$("#form_add").serialize(),beforeSend:function(){$("#edit_cat").button("loading")},success:function(e){0==e.error?sweet(e.title,e.pesan,"true.jpg",base_url+"dashboard/cat_item/"+e.category):($("#edit_cat").button("reset"),sweet(e.title,e.pesan,"false.jpg","#"))}})}),$.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}};var e=$(".category").val();$("#t_about").dataTable({initComplete:function(){var e=this.api();$("#t_about_filter input").off(".DT").on("keyup.DT",function(a){13==a.keyCode&&e.search(this.value).draw()})},oLanguage:{sProcessing:"loading..."},processing:!0,serverSide:!0,ajax:{url:base_url+"dashboard/load_tb_about/"+e,type:"POST"},columns:[{data:"id",orderable:!1},{data:"title"},{data:"description"},{data:"view",orderable:!1}],order:[[1,"asc"]],rowCallback:function(e,a,t){var n=this.fnPagingInfo(),r=n.iPage,o=n.iLength,i=r*o+(t+1);$("td:eq(0)",e).html(i)}}),$("#t_blog").dataTable({initComplete:function(){var e=this.api();$("#t_about_filter input").off(".DT").on("keyup.DT",function(a){13==a.keyCode&&e.search(this.value).draw()})},oLanguage:{sProcessing:"loading..."},processing:!0,serverSide:!0,ajax:{url:base_url+"dashboard/load_tb_blog/"+e,type:"POST"},columns:[{data:"id",orderable:!1},{data:"title"},{data:"description"},{data:"thumbnail"},{data:"view",orderable:!1}],order:[[1,"asc"]],rowCallback:function(e,a,t){var n=this.fnPagingInfo(),r=n.iPage,o=n.iLength,i=r*o+(t+1);$("td:eq(0)",e).html(i)}}),$("#r_cat_item").dataTable(),$("#conf_pembayaran").dataTable(),$("#catalogMember").dataTable(),$("#member").dataTable()});